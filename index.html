<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Centro de Investigación Estadística ERGOSTATS">

<title>Intro to Python: Actividad final</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="actividad_final_files/libs/clipboard/clipboard.min.js"></script>
<script src="actividad_final_files/libs/quarto-html/quarto.js"></script>
<script src="actividad_final_files/libs/quarto-html/popper.min.js"></script>
<script src="actividad_final_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="actividad_final_files/libs/quarto-html/anchor.min.js"></script>
<link href="actividad_final_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="actividad_final_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="actividad_final_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="actividad_final_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="actividad_final_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Intro to Python: Actividad final</h1>
<p class="subtitle lead">Introducción al lenguaje de programación Python para el análisis estadístico</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Centro de Investigación Estadística ERGOSTATS </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p><strong>Introducción</strong></p>
<p>Bienvenidos al documento final del curso de Introducción a Python para Análisis Estadístico. En este documento, encontrarán una serie de ejercicios diseñados para poner en práctica los conocimientos adquiridos a lo largo del curso y aplicarlos en un contexto práctico de análisis de datos.</p>
<p>Durante el curso, hemos explorado los fundamentos de la programación en Python y su aplicación en el análisis estadístico. Desde la manipulación de datos hasta la implementación de modelos estadísticos, hemos aprendido cómo utilizar las herramientas y bibliotecas disponibles en Python para resolver problemas reales en el campo de la estadística y la ciencia de datos.</p>
<p>En este documento, nos centraremos en un conjunto de datos de la Encuesta Nacional de Desnutrición Infantil (ENDI) del Ecuador 2023. Utilizando este conjunto de datos como caso de estudio, abordaremos una serie de ejercicios que nos permitirán explorar y analizar la desnutrición crónica infantil desde una perspectiva estadística.</p>
<p>Cada ejercicio está diseñado para guiarlos a través de diferentes aspectos del análisis de datos, desde la exploración inicial hasta la evaluación de modelos estadísticos. Además, se proporcionarán instrucciones claras y comentarios útiles para ayudarlos a completar cada ejercicio de manera efectiva.</p>
<p>Esperamos que este documento les brinde la oportunidad de consolidar sus habilidades en Python y análisis estadístico, y les permita aplicar estos conocimientos en futuros proyectos y desafíos en el campo de la ciencia de datos.</p>
<p>¡Comencemos!</p>
<section id="lectura-de-datos-y-un-recordatorio" class="level3">
<h3 class="anchored" data-anchor-id="lectura-de-datos-y-un-recordatorio">Lectura de datos y un recordatorio</h3>
<p>Antes de comenzar con cualquier análisis o tarea en {python}, es crucial asegurarnos de tener acceso a todas las herramientas necesarias. En este caso, estamos utilizando varios módulos de {python} que proporcionan funcionalidades específicas para análisis estadísticos y de aprendizaje automático.</p>
<p>Es importante comenzar con la importación de estos módulos al principio del script por varias razones:</p>
<ul>
<li><p><strong>Claridad y Organización:</strong> Importar los módulos al principio del script permite a cualquier persona que lea nuestro código comprender rápidamente qué herramientas estamos utilizando para el análisis.</p></li>
<li><p><strong>Resolución de Dependencias:</strong> Al importar los módulos al principio, podemos identificar cualquier dependencia faltante antes de proceder con el análisis. Si algún módulo no está instalado, podemos instalarlo fácilmente utilizando la herramienta pip de {python}.</p></li>
<li><p><strong>Mantenimiento y Actualización:</strong> Mantener todas las importaciones en un solo lugar facilita la tarea de mantener nuestro código actualizado. Si necesitamos agregar, eliminar o actualizar un módulo, sabemos exactamente dónde hacerlo.</p></li>
<li><p><strong>Legibilidad del Código:</strong> Importar módulos al principio del script ayuda a mantener nuestro código limpio y legible. Los desarrolladores pueden escanear rápidamente las importaciones para comprender qué funcionalidades estamos utilizando en nuestro código.</p></li>
</ul>
<p>Recuerda, si algún módulo no está instalado en su sistema, puede instalarlo fácilmente utilizando pip. Por ejemplo, si necesita instalar el módulo pandas, puede ejecutar el siguiente comando en su terminal o consola:</p>
<pre><code># En tu terminal:

pip install pandas</code></pre>
<p>A continuación, importaremos los módulos necesarios para nuestro análisis.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importamos numpy para realizar operaciones numéricas eficientes.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pandas nos permitirá trabajar con conjuntos de datos estructurados.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Desde sklearn.model_selection importaremos funciones para dividir conjuntos de datos y realizar validación cruzada.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split, KFold</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilizaremos sklearn.preprocessing para preprocesar nuestros datos antes de entrenar modelos de aprendizaje automático.</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># sklearn.metrics nos proporcionará métricas para evaluar el rendimiento de nuestros modelos.</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> accuracy_score</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># statsmodels.api nos permitirá realizar análisis estadísticos más detallados y estimación de modelos.</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Por último, matplotlib.pyplot nos ayudará a visualizar nuestros datos y resultados.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para empezar vamos a realizar la carga del archivo de datos en formato CSV llamado “sample_endi_model_10p.txt” utilizando la función <code>pd.read_csv()</code> de la biblioteca pandas. Este archivo contiene una muestra del 10% de la base de datos de la Encuesta Nacional de Desnutrición Infantil (ENDI) del Ecuador.</p>
<p>Antes de profundizar en la explicación de la ENDI del Ecuador y las variables disponibles en la base de datos:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>datos <span class="op">=</span> pd.read_csv(<span class="st">"data\sample_endi_model_10p.txt"</span>, sep<span class="op">=</span><span class="st">";"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>El parámetro <code>sep=";"</code> especifica que el separador de campos en el archivo CSV es “;”, lo que indica que es un archivo CSV con campos separados por punto y coma.</li>
</ul>
<p>La Encuesta Nacional de Desnutrición Infantil (ENDI) del Ecuador es un estudio estadístico que se lleva a cabo periódicamente para evaluar el estado nutricional de los niños en el país. Este estudio recopila información sobre diversos factores que pueden influir en la desnutrición infantil, como condiciones socioeconómicas, acceso a servicios básicos, y características del hogar y la comunidad.</p>
<p>Las variables disponibles en la base de datos son las siguientes:</p>
<ul>
<li><code>sexo</code>: Género del niño.</li>
<li><code>etnia</code>: Autoidentificación étnica del niño.</li>
<li><code>dcronica</code>: Dummy para niños con desnutrición crónica igual a 1.</li>
<li><code>region</code>: Región donde vive el niño.</li>
<li><code>n_hijos</code>: Número de hijos con los que vive el niño.</li>
<li><code>tipo_de_piso</code>: Tipo de piso de la vivienda del niño.</li>
<li><code>espacio_lavado</code>: Si la vivienda dispone de espacio de lavado de manos.</li>
<li><code>categoria_seguridad_alimentaria</code>: Categoría de seguridad alimentaria del hogar del niño.</li>
<li><code>condicion_empleo</code>: Condición de empleo de la madre del niño.</li>
<li><code>quintil</code>: Quintil de ingreso del hogar.</li>
<li><code>categoria_cocina</code>: Manera en que cocina los alimentos el hogar del niño.</li>
<li><code>categoria_agua</code>: Categoría de acceso al agua del hogar del niño.</li>
<li><code>serv_hig</code>: Tipo de servicio higiénico del hogar del niño.</li>
<li><code>fexp_nino</code>: Factor de expansión asociado al niño.</li>
</ul>
<p>Con estos datos, se pueden realizar diversas análisis y estudios relacionados con la desnutrición crónica infantil, como:</p>
<ol type="1">
<li>Identificación de factores de riesgo asociados a la desnutrición crónica.</li>
<li>Evaluación de la relación entre las condiciones socioeconómicas y la desnutrición infantil.</li>
<li>Análisis de las disparidades regionales en la prevalencia de la desnutrición infantil.</li>
<li>Desarrollo de modelos predictivos para predecir la desnutrición crónica en niños.</li>
</ol>
</section>
<section id="limpieza-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="limpieza-de-datos">Limpieza de datos</h3>
<p>Aquí te recordamos cómo eliminamos las filas con valores nulos en la columna “dcronica”, que nos indica la desnutrición crónica de los niños:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>datos <span class="op">=</span> datos[<span class="op">~</span>datos[<span class="st">"dcronica"</span>].isna()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora, seleccionamos solo las variables que consideramos relevantes para nuestro análisis. En este caso, estamos interesados en el número de hijos, la región, el sexo y la condición laboral de la madre:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>variables <span class="op">=</span> [<span class="st">'n_hijos'</span>, <span class="st">'region'</span>, <span class="st">'sexo'</span>, <span class="st">'condicion_empleo'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Luego, agrupamos los datos por la condición laboral de la madre para ver cuántos niños hay en cada categoría:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>datos.groupby(<span class="st">"condicion_empleo"</span>).size()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>condicion_empleo
Desempleada         940
Empleada           1240
Inactiva             14
Menor a 15 años       3
dtype: int64</code></pre>
</div>
</div>
<p>Utilizamos un bucle <code>for</code> para recorrer cada variable en nuestra lista <code>variables</code> y eliminar las filas con valores nulos en esa variable:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> variables:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    datos <span class="op">=</span> datos[<span class="op">~</span>datos[i].isna()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora, agrupamos los datos por la región donde viven los niños para ver cuántos niños hay en cada región:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>datos.groupby(<span class="st">"region"</span>).size()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>region
1.0    1055
2.0     661
3.0     435
dtype: int64</code></pre>
</div>
</div>
<p>Por último, convertimos los códigos numéricos de las regiones en etiquetas más comprensibles:</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>datos[<span class="st">"region"</span>] <span class="op">=</span> datos[<span class="st">"region"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">"Costa"</span> <span class="cf">if</span> x <span class="op">==</span> <span class="dv">1</span> <span class="cf">else</span> <span class="st">"Sierra"</span> <span class="cf">if</span> x <span class="op">==</span> <span class="dv">2</span> <span class="cf">else</span> <span class="st">"Oriente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Este proceso nos permite preparar la base de datos para un análisis más detallado sobre la desnutrición crónica infantil y su relación con diferentes variables.</p>
</section>
<section id="transformaciones-de-variables" class="level3">
<h3 class="anchored" data-anchor-id="transformaciones-de-variables">Transformaciones de variables</h3>
<p>Vamos a realizar una serie de transformaciones en nuestros datos para prepararlos para el análisis. Primero, definimos las variables categóricas y numéricas que utilizaremos en nuestro análisis:</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>variables_categoricas <span class="op">=</span> [<span class="st">'region'</span>, <span class="st">'sexo'</span>, <span class="st">'condicion_empleo'</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>variables_numericas <span class="op">=</span> [<span class="st">'n_hijos'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Luego, creamos un transformador para estandarizar las variables numéricas y una copia de nuestros datos para no modificar el conjunto original:</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>transformador <span class="op">=</span> StandardScaler()</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>datos_escalados <span class="op">=</span> datos.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora, estandarizamos las variables numéricas utilizando el transformador:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>datos_escalados[variables_numericas] <span class="op">=</span> transformador.fit_transform(datos_escalados[variables_numericas])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A continuación, convertimos las variables categóricas en variables dummy utilizando one-hot encoding:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>datos_dummies <span class="op">=</span> pd.get_dummies(datos_escalados, columns<span class="op">=</span>variables_categoricas, drop_first<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Seleccionamos las variables predictoras (X) y la variable objetivo (y) para nuestro modelo:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> datos_dummies[[<span class="st">'n_hijos'</span>, <span class="st">'region_Sierra'</span>, <span class="st">'sexo_Mujer'</span>, </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'condicion_empleo_Empleada'</span>, <span class="st">'condicion_empleo_Inactiva'</span>, <span class="st">'condicion_empleo_Menor a 15 años'</span>]]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> datos_dummies[<span class="st">"dcronica"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Por último, definimos los pesos asociados a cada observación para considerar el diseño muestral:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>weights <span class="op">=</span> datos_dummies[<span class="st">'fexp_nino'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Estas transformaciones nos permiten preparar los datos para construir un modelo predictivo de desnutrición crónica infantil, teniendo en cuenta tanto las variables categóricas como las numéricas y el diseño muestral de la encuesta.</p>
</section>
<section id="separación-de-las-muestras-en-entramiento-train-y-prubea-test" class="level3">
<h3 class="anchored" data-anchor-id="separación-de-las-muestras-en-entramiento-train-y-prubea-test">Separación de las muestras en entramiento (train) y prubea (test)</h3>
<p>Ahora dividiremos nuestros datos en conjuntos de entrenamiento y prueba para poder evaluar el rendimiento de nuestro modelo. Utilizaremos un 80% de los datos para entrenamiento y un 20% para pruebas:</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test, weights_train, weights_test <span class="op">=</span> train_test_split(X, y, weights, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Es importante tener en cuenta que para trabajar con modelos Logit, necesitamos que todas nuestras variables sean numéricas. Por lo tanto, vamos a asegurarnos de que esto sea así:</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertimos todas las variables a tipo numérico</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> X_train.<span class="bu">apply</span>(pd.to_numeric, errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>y_train <span class="op">=</span> y_train.<span class="bu">apply</span>(pd.to_numeric, errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertimos las variables a tipo entero</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>variables <span class="op">=</span> X_train.columns</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> variables:</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    X_train[i] <span class="op">=</span> X_train[i].astype(<span class="bu">int</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    X_test[i] <span class="op">=</span> X_test[i].astype(<span class="bu">int</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>y_train <span class="op">=</span> y_train.astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esto garantiza que todas las variables de entrenamiento sean numéricas y de tipo entero, lo que nos permitirá trabajar con modelos Logit correctamente.</p>
</section>
<section id="ajuste-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="ajuste-del-modelo">Ajuste del modelo</h3>
<p>Ahora que hemos preparado nuestros datos, podemos proceder a ajustar un modelo de regresión logística. Utilizaremos el método Logit de la biblioteca statsmodels:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> sm.Logit(y_train, X_train)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> modelo.fit()</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.529597
         Iterations 18
                           Logit Regression Results                           
==============================================================================
Dep. Variable:               dcronica   No. Observations:                 1720
Model:                          Logit   Df Residuals:                     1714
Method:                           MLE   Df Model:                            5
Date:                Wed, 14 Feb 2024   Pseudo R-squ.:                -0.06524
Time:                        21:34:05   Log-Likelihood:                -910.91
converged:                       True   LL-Null:                       -855.12
Covariance Type:            nonrobust   LLR p-value:                     1.000
====================================================================================================
                                       coef    std err          z      P&gt;|z|      [0.025      0.975]
----------------------------------------------------------------------------------------------------
n_hijos                              0.1073      0.090      1.192      0.233      -0.069       0.284
region_Sierra                       -1.0679      0.130     -8.232      0.000      -1.322      -0.814
sexo_Mujer                          -0.7218      0.102     -7.099      0.000      -0.921      -0.522
condicion_empleo_Empleada           -0.8897      0.092     -9.646      0.000      -1.070      -0.709
condicion_empleo_Inactiva           -1.5717      1.084     -1.449      0.147      -3.697       0.554
condicion_empleo_Menor a 15 años   -47.9399   1.64e+10  -2.92e-09      1.000   -3.21e+10    3.21e+10
====================================================================================================</code></pre>
</div>
</div>
<p>El resumen del modelo nos proporcionará información sobre los coeficientes estimados y su significancia estadística. Vamos a extraer estos coeficientes y organizarlos en un DataFrame para una mejor visualización:</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraemos los coeficientes y los almacenamos en un DataFrame</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>coeficientes <span class="op">=</span> result.params</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>df_coeficientes <span class="op">=</span> pd.DataFrame(coeficientes).reset_index()</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>df_coeficientes.columns <span class="op">=</span> [<span class="st">'Variable'</span>, <span class="st">'Coeficiente'</span>]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos una tabla pivote para una mejor visualización</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>df_pivot <span class="op">=</span> df_coeficientes.pivot_table(columns<span class="op">=</span><span class="st">'Variable'</span>, values<span class="op">=</span><span class="st">'Coeficiente'</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>df_pivot.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora que hemos ajustado nuestro modelo, podemos realizar predicciones en el conjunto de prueba y evaluar su rendimiento:</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizamos predicciones en el conjunto de prueba</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>predictions <span class="op">=</span> result.predict(X_test)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertimos las probabilidades en clases binarias</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>predictions_class <span class="op">=</span> (predictions <span class="op">&gt;</span> <span class="fl">0.5</span>).astype(<span class="bu">int</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparamos las predicciones con los valores reales</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>predictions_class <span class="op">==</span> y_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>1211    False
1896     True
1013     True
788      True
908      True
        ...  
1916     True
463      True
570     False
27       True
2075     True
Length: 431, dtype: bool</code></pre>
</div>
</div>
<p>Este proceso nos permite evaluar cómo se desempeña nuestro modelo en el conjunto de prueba en términos de precisión de las predicciones.</p>
</section>
<section id="validación-cruzada" class="level3">
<h3 class="anchored" data-anchor-id="validación-cruzada">Validación cruzada</h3>
<p>Vamos a realizar una validación cruzada con 100 pliegues para evaluar el rendimiento de nuestro modelo de regresión logística en el conjunto de entrenamiento:</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 100 folds:</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>kf <span class="op">=</span> KFold(n_splits<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>accuracy_scores <span class="op">=</span> []</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>df_params <span class="op">=</span> pd.DataFrame()</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> train_index, test_index <span class="kw">in</span> kf.split(X_train):</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># aleatorizamos los folds en las partes necesarias:</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    X_train_fold, X_test_fold <span class="op">=</span> X_train.iloc[train_index], X_train.iloc[test_index]</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    y_train_fold, y_test_fold <span class="op">=</span> y_train.iloc[train_index], y_train.iloc[test_index]</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    weights_train_fold, weights_test_fold <span class="op">=</span> weights_train.iloc[train_index], weights_train.iloc[test_index]</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ajustamos un modelo de regresión logística en el pliegue de entrenamiento</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    log_reg <span class="op">=</span> sm.Logit(y_train_fold, X_train_fold)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    result_reg <span class="op">=</span> log_reg.fit()</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extraemos los coeficientes y los organizamos en un DataFrame</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    coeficientes <span class="op">=</span> result_reg.params</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    df_coeficientes <span class="op">=</span> pd.DataFrame(coeficientes).reset_index()</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    df_coeficientes.columns <span class="op">=</span> [<span class="st">'Variable'</span>, <span class="st">'Coeficiente'</span>]</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    df_pivot <span class="op">=</span> df_coeficientes.pivot_table(columns<span class="op">=</span><span class="st">'Variable'</span>, values<span class="op">=</span><span class="st">'Coeficiente'</span>)</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>    df_pivot.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Realizamos predicciones en el pliegue de prueba</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    predictions <span class="op">=</span> result_reg.predict(X_test_fold)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>    predictions <span class="op">=</span> (predictions <span class="op">&gt;=</span> <span class="fl">0.5</span>).astype(<span class="bu">int</span>)</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculamos la precisión del modelo en el pliegue de prueba</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="op">=</span> accuracy_score(y_test_fold, predictions)</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>    accuracy_scores.append(accuracy)</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Concatenamos los coeficientes estimados en cada pliegue en un DataFrame</span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>    df_params <span class="op">=</span> pd.concat([df_params, df_pivot], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Precisión promedio de validación cruzada: </span><span class="sc">{</span>np<span class="sc">.</span>mean(accuracy_scores)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.530069
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529505
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530188
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528328
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531018
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530621
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529512
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529573
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.528902
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531639
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530856
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.531742
         Iterations 18
Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.527758
         Iterations: 35
Optimization terminated successfully.
         Current function value: 0.530595
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530178
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.527836
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531745
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529740
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.527417
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.525987
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529633
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.525029
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\alex_ergostats\AppData\Local\Programs\Python\Python311\Lib\site-packages\statsmodels\base\model.py:607: ConvergenceWarning:

Maximum Likelihood optimization failed to converge. Check mle_retvals
</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.529789
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529319
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529186
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529393
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528907
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529872
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529278
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.530273
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529701
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528752
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.530632
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.526996
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530541
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529060
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530542
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529468
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531124
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530447
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.532087
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530387
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528925
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.531692
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531455
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530713
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531512
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529637
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.527495
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528311
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529134
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.528458
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531085
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530648
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530793
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.529968
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530335
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531531
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529221
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.526830
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529075
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528151
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.529405
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528334
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.528939
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531059
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.529639
         Iterations 18
Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.526396
         Iterations: 35
Optimization terminated successfully.
         Current function value: 0.531710
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530213
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530288
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.525822
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530923
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.531142
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530036
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.527894
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\alex_ergostats\AppData\Local\Programs\Python\Python311\Lib\site-packages\statsmodels\base\model.py:607: ConvergenceWarning:

Maximum Likelihood optimization failed to converge. Check mle_retvals
</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.530444
         Iterations: 35
Optimization terminated successfully.
         Current function value: 0.526974
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.527325
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530055
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.527421
         Iterations 18
Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.527949
         Iterations: 35</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.528317
         Iterations 18
Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.531203
         Iterations: 35
Optimization terminated successfully.
         Current function value: 0.528679
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529333
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\alex_ergostats\AppData\Local\Programs\Python\Python311\Lib\site-packages\statsmodels\base\model.py:607: ConvergenceWarning:

Maximum Likelihood optimization failed to converge. Check mle_retvals

C:\Users\alex_ergostats\AppData\Local\Programs\Python\Python311\Lib\site-packages\statsmodels\base\model.py:607: ConvergenceWarning:

Maximum Likelihood optimization failed to converge. Check mle_retvals

C:\Users\alex_ergostats\AppData\Local\Programs\Python\Python311\Lib\site-packages\statsmodels\base\model.py:607: ConvergenceWarning:

Maximum Likelihood optimization failed to converge. Check mle_retvals
</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.529046
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530086
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529579
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529848
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.530178
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.527409
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.531816
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531192
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529325
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531857
         Iterations 18</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Optimization terminated successfully.
         Current function value: 0.528599
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529271
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.531500
         Iterations 18
Optimization terminated successfully.
         Current function value: 0.529857
         Iterations 18
Precisión promedio de validación cruzada: 0.731372549019608</code></pre>
</div>
</div>
<p>Este bloque de código realiza una validación cruzada utilizando 100 pliegues. En cada iteración del bucle, se ajusta un modelo de regresión logística en un pliegue de entrenamiento y se evalúa en el pliegue de prueba. Luego, se calcula la precisión del modelo en el pliegue de prueba y se almacena en una lista de puntuaciones de precisión. Además, se extraen los coeficientes del modelo en cada pliegue y se almacenan en un DataFrame para su posterior análisis.</p>
<p>En detalle:</p>
<ul>
<li><p><strong>kf (KFold):</strong> <code>kf</code> es una instancia de la clase KFold de scikit-learn, que se utiliza para dividir el conjunto de datos en k pliegues para validación cruzada. En este caso, se configura para generar 100 pliegues <code>(n_splits=100)</code>.</p></li>
<li><p><strong>accuracy_scores:</strong> Es una lista que almacena las puntuaciones de precisión calculadas para cada pliegue durante la validación cruzada. Después de completar la validación cruzada, se utilizará para calcular la precisión promedio del modelo.</p></li>
<li><p><strong>df_params:</strong> Es un DataFrame que se utiliza para almacenar los coeficientes estimados de la regresión logística en cada pliegue durante la validación cruzada. Los coeficientes se organizan en este DataFrame para su posterior análisis.</p></li>
<li><p><strong>El bucle for:</strong> Este bucle itera sobre cada pliegue generado por KFold. Para cada pliegue, ajusta un modelo de regresión logística en el conjunto de entrenamiento y evalúa su rendimiento en el conjunto de prueba. Luego, almacena las puntuaciones de precisión y los coeficientes estimados en las listas accuracy_scores y df_params, respectivamente.</p></li>
<li><p><strong>Los pliegues (folds):</strong> Durante la validación cruzada, el conjunto de datos se divide en k pliegues (en este caso, 100). Cada pliegue se utiliza una vez como conjunto de prueba mientras que los restantes se utilizan como conjunto de entrenamiento. Esto permite evaluar el rendimiento del modelo en múltiples divisiones del conjunto de datos.</p></li>
<li><p><strong>El modelo ajustado:</strong> Dentro del bucle for, se ajusta un modelo de regresión logística utilizando la clase Logit de statsmodels. Este modelo se ajusta en el conjunto de entrenamiento de cada pliegue y se utiliza para realizar predicciones en el conjunto de prueba.</p></li>
</ul>
<p>El objetivo del bucle for es realizar la validación cruzada del modelo de regresión logística en los datos, evaluando su rendimiento en múltiples divisiones del conjunto de datos y almacenando los resultados para su posterior análisis y comparación.</p>
<section id="validación-cruzada-precisión-del-modelo" class="level4">
<h4 class="anchored" data-anchor-id="validación-cruzada-precisión-del-modelo">Validación cruzada: precisión del modelo</h4>
<p>Vamos a calcular la precisión promedio de nuestro modelo utilizando las puntuaciones de precisión almacenadas en la lista accuracy_scores:</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la precisión promedio</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>precision_promedio <span class="op">=</span> np.mean(accuracy_scores)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora, vamos a crear un histograma para visualizar la distribución de las puntuaciones de precisión:</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>plt.hist(accuracy_scores, bins<span class="op">=</span><span class="dv">30</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir una línea vertical en la precisión promedio</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>plt.axvline(precision_promedio, color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir un texto que muestre la precisión promedio</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>plt.text(precision_promedio<span class="op">-</span><span class="fl">0.1</span>, plt.ylim()[<span class="dv">1</span>]<span class="op">-</span><span class="fl">0.1</span>, <span class="ss">f'Precisión promedio: </span><span class="sc">{</span>precision_promedio<span class="sc">:.2f}</span><span class="ss">'</span>, </span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>         bbox<span class="op">=</span><span class="bu">dict</span>(facecolor<span class="op">=</span><span class="st">'white'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>))</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Histograma de Accuracy Scores'</span>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Accuracy Score'</span>)</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frecuencia'</span>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustar los márgenes</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el histograma</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="actividad_final_files/figure-html/cell-23-output-1.png" width="662" height="470"></p>
</div>
</div>
<p>Para ayudarnos a visualizar la precisión promedio en el histograma, vamos a añadir una línea vertical en la posición de la precisión promedio.</p>
<p>También añadiremos un texto que muestre la precisión promedio en el histograma:</p>
<p>A continuación, agregaremos etiquetas y títulos al histograma.</p>
<p>Finalmente, ajustaremos los márgenes del gráfico y lo mostraremos.</p>
<p>Este histograma nos permite visualizar la distribución de las puntuaciones de precisión y ver cómo se compara la precisión promedio con las puntuaciones individuales.</p>
</section>
<section id="validación-cruzada-el-comportamiento-del-parametro-asociado-a-n_hijos" class="level4">
<h4 class="anchored" data-anchor-id="validación-cruzada-el-comportamiento-del-parametro-asociado-a-n_hijos">Validación cruzada: el comportamiento del parametro asociado a <code>n_hijos</code></h4>
<p>Vamos a crear un histograma para visualizar la distribución de los coeficientes estimados para la variable “n_hijos”:</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>plt.hist(df_params[<span class="st">"n_hijos"</span>], bins<span class="op">=</span><span class="dv">30</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir una línea vertical en la media de los coeficientes</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>plt.axvline(np.mean(df_params[<span class="st">"n_hijos"</span>]), color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir un texto que muestre la media de los coeficientes</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>plt.text(np.mean(df_params[<span class="st">"n_hijos"</span>])<span class="op">-</span><span class="fl">0.1</span>, plt.ylim()[<span class="dv">1</span>]<span class="op">-</span><span class="fl">0.1</span>, <span class="ss">f'Media de los coeficientes: </span><span class="sc">{</span>np<span class="sc">.</span>mean(df_params[<span class="st">"n_hijos"</span>])<span class="sc">:.2f}</span><span class="ss">'</span>, </span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>         bbox<span class="op">=</span><span class="bu">dict</span>(facecolor<span class="op">=</span><span class="st">'white'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>))</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Histograma de Beta (N Hijos)'</span>)</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Valor del parámetro'</span>)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frecuencia'</span>)</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustar los márgenes</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el histograma</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="actividad_final_files/figure-html/cell-24-output-1.png" width="413" height="471"></p>
</div>
</div>
<p>Para ayudarnos a visualizar la media de los coeficientes en el histograma, vamos a añadir una línea vertical en la posición de la media.</p>
<p>También añadiremos un texto que muestre la media de los coeficientes en el histograma.</p>
<p>A continuación, agregaremos etiquetas y títulos al histograma.</p>
<p>Finalmente, ajustaremos los márgenes del gráfico y lo mostraremos.</p>
<p>Este histograma nos permite visualizar la distribución de los coeficientes estimados para la variable “n_hijos” y compararla con la media de esos coeficientes.</p>
<p><strong>Resumen y Conclusiones</strong></p>
<p>En este ejercicio, hemos trabajado con datos de la Encuesta Nacional de Desnutrición Infantil (ENDI) del Ecuador 2023 para analizar la desnutrición crónica infantil utilizando Python. A lo largo del proceso, hemos aplicado conceptos de estadística y programación en Python para preparar los datos, ajustar un modelo de regresión logística y evaluar su rendimiento mediante validación cruzada.</p>
<p><strong>Aspectos clave en términos de Python y Estadística:</strong></p>
<ol type="1">
<li><p><strong>Manipulación de Datos:</strong> Hemos utilizado librerías como Pandas para cargar, limpiar y transformar los datos, asegurándonos de que estén en el formato adecuado para el análisis.</p></li>
<li><p><strong>Modelado Estadístico:</strong> Ajustamos un modelo de regresión logística utilizando la librería Statsmodels, que nos permitió explorar la relación entre variables predictoras y la probabilidad de desnutrición crónica en niños.</p></li>
<li><p><strong>Validación Cruzada:</strong> Utilizamos K-fold Cross Validation para evaluar el rendimiento del modelo en múltiples divisiones del conjunto de datos, asegurando una evaluación robusta y generalizable.</p></li>
</ol>
<p><strong>Consejos para el Análisis con Python:</strong></p>
<ol type="1">
<li><p><strong>Comprender los Datos:</strong> Antes de comenzar cualquier análisis, es crucial comprender el significado y la estructura de los datos que estamos utilizando. Esto nos ayudará a tomar decisiones informadas durante el proceso de modelado.</p></li>
<li><p><strong>Explorar y Visualizar:</strong> La exploración visual de los datos es fundamental para identificar patrones, tendencias y posibles relaciones entre variables. Utilice gráficos y visualizaciones para obtener insights rápidos y comprensibles.</p></li>
<li><p><strong>Documentar su Código:</strong> Es importante escribir un código limpio y bien documentado que sea fácil de entender y replicar. Esto facilitará la colaboración con otros y el mantenimiento del código a largo plazo.</p></li>
<li><p><strong>Practicar y Aprender Constantemente:</strong> La práctica y la experimentación son fundamentales para mejorar sus habilidades en Python y Estadística. Continúe explorando diferentes conjuntos de datos, técnicas de modelado y bibliotecas para expandir su conocimiento y experiencia.</p></li>
</ol>
<p>En resumen, este ejercicio nos ha permitido aplicar conceptos de Python y Estadística en un contexto práctico de análisis de datos. Esperamos que esta introducción haya sido útil para comprender los fundamentos y los pasos necesarios para abordar problemas similares en el futuro.</p>
<p>Ahora, los invitamos a resolver las seis preguntas que hemos preparado, las cuales les permitirán aplicar y reforzar los conceptos aprendidos en este ejercicio. ¡Buena suerte!</p>
</section>
</section>
<section id="ejercicios" class="level1">
<h1>Ejercicios</h1>
<p><strong>Ejercicio 1: Exploración de Datos</strong></p>
<p>En este ejercicio, tu tarea es revisar los datos proporcionados en el Google Docs y realizar una exploración inicial de la variable clave asignada y la población objetivo. Sigue los siguientes pasos:</p>
<ol type="1">
<li><strong>Revisión de Datos:</strong> Accede al Google Docs con la lista del curso primero revisa que tu nombre, ayudanos con tu cédula y tu usuario de Github (por ejemplo: <a href="https://github.com/AlexB4891">https://github.com/AlexB4891</a>) sean adecuados, luego revisa las columnas finales y encuentra tu variable clave y población objetivo asignadas.</li>
</ol>
<p><a href="https://docs.google.com/spreadsheets/d/1yD24g6uznjXn8ZHxzdwM1sVXnd9dpmct1UYZYseVNvE/edit?usp=sharing">Enlace al Google Docs</a></p>
<ol start="2" type="1">
<li><p><strong>Identificación de Variable Clave y Población Objetivo:</strong> En un script de python anota en comentarios la variable clave asignada y la población objetivo que debes utilizar en tus análisis.</p></li>
<li><p><strong>Cálculo de Estadísticas Básicas:</strong> Después de leer la tabla, utiliza los datos proporcionados para calcular cuántos niños se encuentran en la población objetivo y el promedio o conteo de la variable clave respecto a esos niños. Por ejemplo si tu población fueron las niñas (sexo == “Mujer”), y tu variable clave fue etnia entonces tu resumen debe contar cuantas niñas existen por cada categoría de la variable etnia.</p></li>
</ol>
<p><strong>Ejercicio 2: Modelo Logit</strong></p>
<p>En este ejercicio, vamos a utilizar el modelo de regresión logística ajustado en el conjunto de datos para responder a una pregunta específica. Sigue los siguientes pasos:</p>
<ol type="1">
<li><p><strong>Filtrar los Datos:</strong> Si aplica, filtra los datos según la población objetivo asignada en el ejercicio anterior y asegúrate de incluir la variable clave asignada.</p></li>
<li><p><strong>Modelo de Validación Cruzada:</strong> Utiliza el conjunto de datos filtrado para ajustar un modelo de regresión logística utilizando la técnica de validación cruzada con 100 pliegues.</p></li>
<li><p><strong>Responder la Pregunta:</strong> ¿Cuál es el valor del parámetro asociado a la variable clave si ejecutamos el modelo solo con el conjunto de entrenamiento y predecimos con el mismo conjunto de entrenamiento? ¿Es significativo?</p></li>
<li><p><strong>Interpretación de Resultados:</strong> Escribe tu interpretación de este valor en comentarios debajo del código del modelo de regresión logística.</p></li>
</ol>
<p><strong>Ejercicio 3: Evaluación del Modelo con Datos Filtrados</strong></p>
<p>En este ejercicio, vamos a evaluar el modelo de regresión logística ajustado en el conjunto de datos filtrado para la población objetivo y que incluye la variable clave. Sigue los siguientes pasos:</p>
<ol type="1">
<li><p><strong>Filtrar los Datos:</strong> Utiliza los datos filtrados según la población objetivo asignada en el ejercicio anterior y asegúrate de incluir la variable clave.</p></li>
<li><p><strong>Entrenamiento y Evaluación del Modelo:</strong> Ajusta un modelo de regresión logística utilizando el conjunto de datos filtrado y realiza una validación cruzada con 100 pliegues. Observa cómo cambia la precisión promedio del modelo y la distribución de los coeficientes beta en comparación con el ejercicio anterior.</p></li>
<li><p><strong>Responder a las Preguntas:</strong> Responde a las siguientes preguntas en comentarios de tu script: ¿Qué sucede con la precisión promedio del modelo cuando se utiliza el conjunto de datos filtrado? (Incremento o disminuye ¿Cuanto?)¿Qué sucede con la distribución de los coeficientes beta en comparación con el ejercicio anterior? (Incrementa o disminuye ¿Cuanto?)</p></li>
</ol>
<p><strong>Entrega Final: Subir el Script al Repositorio y Compartir los Enlaces</strong></p>
<p>Una vez que hayas completado el script con los ejercicios resueltos, asegúrate de subir el archivo al repositorio que has estado utilizando para esta actividad. Después de subir el script, comparte el enlace del archivo en los comentarios del issue de GitHub con la actividad correspondiente.</p>
<ol type="1">
<li><p><strong>Subir el Script al Repositorio:</strong> Sube el archivo del script que contiene tus soluciones a los ejercicios al repositorio que has estado utilizando para esta actividad. Asegúrate de que el archivo esté correctamente nombrado y ubicado en el repositorio.</p></li>
<li><p><strong>Compartir los Enlaces:</strong> Accede al issue de GitHub con la actividad y encuentra la sección de comentarios. Escribe un comentario en el que incluyas el enlace directo al archivo del script en el repositorio. También puedes agregar cualquier comentario adicional o reflexión sobre el trabajo realizado.</p></li>
<li><p><strong>Revisar y Comentar:</strong> Una vez que hayas compartido el enlace, asegúrate de revisar los comentarios de tus compañeros y proporcionar retroalimentación constructiva si es necesario.</p></li>
</ol>
<p>¡Este es el último paso para completar la actividad! Asegúrate de realizarlo antes del <strong>27 de febrero de 2024</strong>.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>